<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
    <title>Preload - RTFM</title>

    <meta http-equiv="Content-Language" content="en-GB">
    <meta http-equiv="Window-target" content="_top">
    <meta http-equiv="Cache-Control" content="no-cache, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
    <meta http-equiv="X-Soup-Of-The-Day" content="Tomato">

    <meta name="author" content="Kevin Walsh">
    <meta name="publisher" content="Cursor Software Limited">
    <meta name="copyright" content="2001-2013, Cursor Software Limited">
    <meta name="licence" content="GPLv2+ (Unknown licence)">
    <meta name="generator" content="Interchange 5.7.0 -- www.icdevgroup.org">
    <meta name="robots" content="index,follow,noarchive,noimageindex">
    <meta name="keywords" content="Interchange, Interchange Help, Interchange Support, Interchange Documentation, Interchange Downloads, Interchange Resources">
    <meta name="description" content="Interchange, Interchange Help, Interchange Support, Interchange Documentation, Interchange Downloads, Interchange Resources">
    <meta name="MSSmartTagsPreventParsing" content="TRUE">

    <meta name="verify-v1" content="KqlU/bxZj9Y2ZdZ/3RwuzgVSMIrZ8XM2wqbjSaEo3O4=">

    <meta name="y_key" content="e2dd60be5777fbc8">

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" type="image/png">
    <link rel="search" type="application/opensearchdescription+xml" href="/cms/mozilla_search_plugin.xml" title="Interchange RTFM website">
    <link rel="stylesheet" href="/decor/css/website.css">
    <link rel="stylesheet" href="/decor/css/wiki.css">
    <link rel="stylesheet" href="/decor/css/neo.css">


    <script type="text/javascript" language="JavaScript">
    <!--
	if (top != self){
	    top.location = location;
	}

    // -->
    </script>
</head>
<body>
<!-- START VAR: LOGOBAR -->
<table id="rtfmheader" cellpadding="0" cellspacing="0">
    <tr>
	<td><a href="/index.html" title="For more information... RTFM!"><img src="/decor/images/rtfm_banner.gif" width="500" height="60" border="0" alt="For more information... RTFM!"></a></td>

	<td width="100%" style="text-align: right; padding: 10px">

	    <form action="/search.html" method="POST">
		<input type="hidden" name="mv_session_id" value="nsession">
		<input type="hidden" name="mv_profile" value="cms_search">
		<input name="mv_searchspec" value="" type="text" size="15" maxlength="100" class="search">
		<input type="submit" class="button" value="Search">
	    </form>

	</td>
    </tr>
</table>
<table id="breadcrumbs" cellpadding="0" cellspacing="0">
    <tr valign="top">
	<td>
	    <span class="nowrap">&gt; <a href="/index.html">Home</a></span>
	    <span class="nowrap">&gt; <a href="/documentation.html">Documentation</a></span>
	    <span class="nowrap">&gt; <a href="/icdocs/index.html">Latest documentation</a></span>
	    <span class="nowrap">&gt; <a href="/icdocs/category:Local_config_directives.html">Local config directives</a></span>
	    <span class="nowrap">&gt; <span class="current">Preload</span></span>
	</td>

    </tr>
</table>
<!-- END VAR: LOGOBAR -->

    <table width="100%" cellpadding="0" cellspacing="0" border="0">
	<tr valign="top">

	    <td id="leftside">
<!-- START COMPONENT: navigation -->

<table class="component" cellpadding="0" cellspacing="0">
    <tr>
	<th>NAVIGATION</th>
    </tr>
    <tr>
	<td>
	    <ul class="navigation">
		<li><a href="/index.html">Home</a></li>
		<li><a href="/documentation.html">Documentation</a></li>
		<li><a href="/downloads.html">Downloads</a></li>
		<li><a href="/community.html">Mail lists and IRC</a></li>
		<li><a href="/links.html">External websites</a></li>
		<li><a href="/contributions.html">Suggestions and contributions</a></li>
		<li><a href="/account/usermap.html">User location map</a></li>
	    </ul>
	</td>
    </tr>
</table>



<!-- END COMPONENT: navigation -->
<!-- START COMPONENT: wiki_recent -->



<!-- END COMPONENT: wiki_recent -->
<!-- START COMPONENT: wiki_backlinks -->

<table class="component" cellpadding="0" cellspacing="0">
    <tr>
	<th><span class="nowrap">PAGES THAT LINK HERE</span></th>
    </tr>
    <tr>
	<td>
	    <ul class="navigation">
		<li><a href="/icdocs/config/AutoEnd.html">AutoEnd</a></li>
		<li><a href="/icdocs/config/Autoload.html">Autoload</a></li>
	    </ul>
	</td>
    </tr>
</table>


<!-- END COMPONENT: wiki_backlinks -->
<!-- START COMPONENT: account -->

<table class="component" cellpadding="0" cellspacing="0">

    <tr>
	<th>ACCOUNT LOGIN</th>
    </tr>

    <tr>
	<td class="first">
	    <p>You are not logged in</p>
	</td>
    </tr>
    <tr>
	<td>
	    <ul class="navigation">
		<li><a href="/account/login.html">Log in</a></li>
		<li><a href="/account/create.html">Create an account</a></li>
		<li><a href="/account/reminder.html">Password reminder</a></li>
	    </ul>
	</td>
    </tr>

</table>



<!-- END COMPONENT: account -->
<!-- START COMPONENT: icpowered -->

<div style="text-align: center; margin: 10px; margin-top: 0px">
    <a href="/bouncer.html?target=http%3a%2f%2fwww%2eicdevgroup%2eorg%2f" title="Powered by Interchange version 5.7.0"><img src="/decor/images/iclogo_button.gif" width="136" height="44" alt="Powered by Interchange version 5.7.0"></a>
</div>



<!-- START COMPONENT: icpowered -->

	    </td>

	    <td id="bodytext">
<!-- start of page text -->

<!-- start page: wiki/display (config/Preload) -->

<div class="wikitext">
<a name="Preload"></a>
<h1>Preload</h1>
<p>
Sets a macro that will be automatically executed at earliest possible
stage of every page request -
even before the <span class="fixedwidth"><a href="/icdocs/config/Autoload.html" title="Autoload (config)">Autoload</a></span> macro (if defined)
is executed.
</p>
<a name="Synopsis"></a>
<h2>Synopsis</h2>
<p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Syntax">Preload&nbsp; subroutine</span><span class="def_Symbol">_</span>name
</span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
or
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Syntax">Preload&nbsp; </span><span class="def_Symbol">&lt;</span><span class="def_Symbol">&lt;</span>EOA<br>
&nbsp; &nbsp; <span class="def_Syntax">Interchange tags </span>here<br>
EOA
</span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
The macro can be specified using the name of a <span class="fixedwidth"><a href="/icdocs/config/Sub.html" title="Sub (config)">Sub</a></span>
or <span class="fixedwidth"><a href="/icdocs/config/GlobalSub.html" title="GlobalSub (config)">GlobalSub</a></span> subroutine,
or it can be a block of Interchange tags.&nbsp;
Perl subroutines are much more efficient, of course.
</p>
<a name="Scope"></a>
<h2>Scope</h2>
<p>
<!-- start of nosearch block -->
This directive is only available for use in the <em>local</em>
(<span class="fixedwidth">catalog.cfg</span>) configuration file.&nbsp;
It will not affect any other website in any way.&nbsp;
This directive will not work in the <em>global</em>
(<span class="fixedwidth">interchange.cfg</span>) configuration file.&nbsp;
<!-- end of nosearch block -->
<br><br>

<table class="note">
<tr>
<td class="icon">
<img src="/decor/images/wiki/note_availability.gif" width="32" height="32" border="0" alt="Availability">
</td>
<td width="100%">
<p class="title">Availability</p>
<p style="margin-bottom: 0px">
This configuration directive was introduced in version 5.5.2,
and is therefore not available for use with any earlier Interchange version.
</p>
</td>
</tr>
</table>

<a name="Description"></a>
<h2>Description</h2>
<p>
Sets a macro that will be automatically executed at the earliest possible
stage in the request handling process.&nbsp;
This macro will allow you to tweak various aspects of the request and its
environment,
such as the request path
and the user's session session,
robot status,
cookie status and authorisation etc.
</p>
<p>
Any value returned by the macro will be discarded.
</p>

<table class="note">
<tr>
<td class="icon">
<img src="/decor/images/wiki/note_warning.gif" width="32" height="32" border="0" alt="Warning">
</td>
<td width="100%">
<p class="title">Warning</p>
<p style="margin-bottom: 0px">
Do not use this facility unless you know what you're doing and fully
understand the implications of any environmental adjustments you make.
</p>
</td>
</tr>
</table>

<p>
Also see the similar <span class="fixedwidth"><a href="/icdocs/config/Autoload.html" title="Autoload (config)">Autoload</a></span> directive.
</p>
<a name="Examples"></a>
<h2>Examples</h2>
<a name="Skip_the_read_and_write_of_user_sessions_for_certain_page_requests"></a>
<h3>Skip the read and write of user sessions for certain page requests</h3>
<p>
You might find it useful to save the overhead of session access for pages
that don't make use of the session data.&nbsp;
The following example will configure Interchange to skip session reads
and writes for the &quot;<span class="fixedwidth">/aboutus</span>&quot;,
&quot;<span class="fixedwidth">/contact</span>&quot; and
&quot;<span class="fixedwidth">/info</span>&quot; pages.
</p>
<p>
Put the following in your Interchange instance's <em>global</em>
&quot;<span class="fixedwidth">interchange.cfg</span>&quot; configuration file:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Syntax">GlobalSub </span><span class="def_Symbol">&lt;</span><span class="def_Symbol">&lt;</span>EOG<br>
<span class="def_Syntax">sub skip</span><span class="def_Symbol">_</span><span class="def_Syntax">session </span><span class="def_Symbol">{</span><br>
&nbsp; &nbsp; <span class="def_Syntax">if </span>$CGI<span class="def_Symbol">:</span><span class="def_Symbol">:</span><span class="def_Syntax">path</span><span class="def_Symbol">_</span><span class="def_Syntax">info </span><span class="def_Symbol">=</span><span class="def_Symbol">~ </span>m<span class="def_Symbol">{</span><span class="def_Symbol">^</span><span class="def_Symbol">/</span><span class="def_Symbol">(</span><span class="def_Symbol">?</span><span class="def_Symbol">:</span><span class="def_Syntax">aboutus</span><span class="def_Symbol">|</span><span class="def_Syntax">contact</span><span class="def_Symbol">|</span><span class="def_Syntax">info</span><span class="def_Symbol">)</span><span class="def_Symbol">(</span><span class="def_Symbol">?</span><span class="def_Symbol">:</span><span class="def_Symbol">\</span><span class="def_Symbol">.</span><span class="def_Symbol">|</span>$<span class="def_Symbol">)</span><span class="def_Symbol">} </span><span class="def_Symbol">{</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; $CGI<span class="def_Symbol">:</span><span class="def_Symbol">:</span><span class="def_Syntax">values</span><span class="def_Symbol">{</span><span class="def_Syntax">mv</span><span class="def_Symbol">_</span><span class="def_Syntax">tmp</span><span class="def_Symbol">_</span><span class="def_Syntax">session</span><span class="def_Symbol">} </span><span class="def_Symbol">= </span><span class="def_Number">1</span><span class="def_Symbol">;</span><br>
&nbsp; &nbsp; <span class="def_Symbol">}</span><br>
&nbsp; &nbsp; <span class="def_Syntax">undef</span><span class="def_Symbol">;</span><br>
<span class="def_Symbol">}</span><br>
EOG
</span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
and then put the following in your website's <em>local</em>
&quot;<span class="fixedwidth">catalog.cfg</span>&quot; configuration file:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Syntax">Preload&nbsp; skip</span><span class="def_Symbol">_</span>session
</span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<a name="See_also"></a>
<h2>See also</h2>
<p>
<ul>
<li><span class="fixedwidth"><a href="/icdocs/config/AutoEnd.html" title="AutoEnd (config)">AutoEnd</a></span></li>
<li><span class="fixedwidth"><a href="/icdocs/config/Autoload.html" title="Autoload (config)">Autoload</a></span></li>
</ul>
</div>

<!-- start of modification notice -->
<div class="wikitext">
    <table class="pageinfo" cellpadding="0" cellspacing="0">
	<tr>
	    <td>
Category:&nbsp; <a href="/icdocs/category:Local_config_directives.html">Local config directives</a>
	    </td>
	</tr>


	<tr>
	    <td>
		
		Last modified by: <a href="/account/profile.html?user=kevin">Kevin Walsh</a><br>
		Modification date: Sunday 27 April 2008 at 9:18 PM (BST)
	    </td>
	</tr>
    </table>
</div>
<!-- end of modification notice -->



<!-- end page: wiki/display (config/Preload) -->



<!-- end of page text -->
	    </td>

	</tr>
    </table>
<!-- START VAR: FOOTER -->

<table id="rtfmfooter" width="100%" cellpadding="0" cellspacing="0">
    <tr>
	<td>
	    <a href="/index.html">Home</a>
	    &nbsp;|&nbsp;
	    <a href="/legal/legal.html">Legal nonsense</a>
	    &nbsp;|&nbsp;
	    <a href="/legal/privacy.html">Privacy policy</a>
	    &nbsp;|&nbsp;
	    <a href="/contact.html">Contact us</a>
	</td>

    </tr>
</table>

<!-- END VAR: FOOTER -->

<!-- START VAR: COPYRIGHT -->


    <div class="copyright">
	Copyright &copy; 2001-2013
	<a href="http://cursor.biz/index.html">Cursor Software Limited</a>.&nbsp;
	All Rights Reserved.
    </div>

<!-- END VAR: COPYRIGHT -->

</body>
</html>
