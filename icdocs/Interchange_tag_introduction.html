<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
    <title>Interchange tag introduction - RTFM</title>

    <meta http-equiv="Content-Language" content="en-GB">
    <meta http-equiv="Window-target" content="_top">
    <meta http-equiv="Cache-Control" content="no-cache, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
    <meta http-equiv="X-Soup-Of-The-Day" content="Tomato">

    <meta name="author" content="Kevin Walsh">
    <meta name="publisher" content="Cursor Software Limited">
    <meta name="copyright" content="2001-2020, Cursor Software Limited">
    <meta name="licence" content="GPLv2+ (Unknown licence)">
    <meta name="generator" content="Interchange 5.7.0 -- www.icdevgroup.org">
    <meta name="robots" content="index,follow,noarchive,noimageindex">
    <meta name="keywords" content="Interchange, Interchange Help, Interchange Support, Interchange Documentation, Interchange Downloads, Interchange Resources">
    <meta name="description" content="Interchange, Interchange Help, Interchange Support, Interchange Documentation, Interchange Downloads, Interchange Resources">
    <meta name="MSSmartTagsPreventParsing" content="TRUE">

    <meta name="verify-v1" content="KqlU/bxZj9Y2ZdZ/3RwuzgVSMIrZ8XM2wqbjSaEo3O4=">

    <meta name="y_key" content="e2dd60be5777fbc8">

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" type="image/png">
    <link rel="search" type="application/opensearchdescription+xml" href="/cms/mozilla_search_plugin.xml" title="Interchange RTFM website">
    <link rel="stylesheet" href="/decor/css/website.css">
    <link rel="stylesheet" href="/decor/css/wiki.css">
    <link rel="stylesheet" href="/decor/css/neo.css">


    <script type="text/javascript" language="JavaScript">
    <!--
	if (top != self){
	    top.location = location;
	}

    // -->
    </script>
</head>
<body>
<!-- START VAR: LOGOBAR -->
<table id="rtfmheader" cellpadding="0" cellspacing="0">
    <tr>
	<td><a href="/index.html" title="For more information... RTFM!"><img src="/decor/images/rtfm_banner.gif" width="500" height="60" border="0" alt="For more information... RTFM!"></a></td>

	<td width="100%" style="text-align: right; padding: 10px">

	    <form action="/search.html" method="POST">
		<input type="hidden" name="mv_session_id" value="nsession">
		<input type="hidden" name="mv_profile" value="cms_search">
		<input name="mv_searchspec" value="" type="text" size="15" maxlength="100" class="search">
		<input type="submit" class="button" value="Search">
	    </form>

	</td>
    </tr>
</table>
<table id="breadcrumbs" cellpadding="0" cellspacing="0">
    <tr valign="top">
	<td>
	    <span class="nowrap">&gt; <a href="/index.html">Home</a></span>
	    <span class="nowrap">&gt; <a href="/documentation.html">Documentation</a></span>
	    <span class="nowrap">&gt; <a href="/icdocs/index.html">Latest documentation</a></span>
	    <span class="nowrap">&gt; <span class="current">Interchange tag introduction</span></span>
	</td>

    </tr>
</table>
<!-- END VAR: LOGOBAR -->

    <table width="100%" cellpadding="0" cellspacing="0" border="0">
	<tr valign="top">

	    <td id="leftside">
<!-- START COMPONENT: navigation -->

<table class="component" cellpadding="0" cellspacing="0">
    <tr>
	<th>NAVIGATION</th>
    </tr>
    <tr>
	<td>
	    <ul class="navigation">
		<li><a href="/index.html">Home</a></li>
		<li><a href="/documentation.html">Documentation</a></li>
		<li><a href="/downloads.html">Downloads</a></li>
		<li><a href="/community.html">Mail lists and IRC</a></li>
		<li><a href="/links.html">External websites</a></li>
		<li><a href="/contributions.html">Suggestions and contributions</a></li>
		<li><a href="/account/usermap.html">User location map</a></li>
	    </ul>
	</td>
    </tr>
</table>



<!-- END COMPONENT: navigation -->
<!-- START COMPONENT: wiki_recent -->



<!-- END COMPONENT: wiki_recent -->
<!-- START COMPONENT: wiki_backlinks -->

<table class="component" cellpadding="0" cellspacing="0">
    <tr>
	<th><span class="nowrap">PAGES THAT LINK HERE</span></th>
    </tr>
    <tr>
	<td>
	    <ul class="navigation">
		<li><a href="/icdocs/tags/goto.html">goto</a></li>
		<li><a href="/icdocs/Interchange_search_engine.html">Interchange search engine</a></li>
		<li><a href="/icdocs/category:Interchange_tags.html">Interchange tags</a></li>
		<li><a href="/icdocs/pragma/safe_data.html">safe_data</a></li>
	    </ul>
	</td>
    </tr>
</table>


<!-- END COMPONENT: wiki_backlinks -->
<!-- START COMPONENT: account -->

<table class="component" cellpadding="0" cellspacing="0">

    <tr>
	<th>ACCOUNT LOGIN</th>
    </tr>

    <tr>
	<td class="first">
	    <p>You are not logged in</p>
	</td>
    </tr>
    <tr>
	<td>
	    <ul class="navigation">
		<li><a href="/account/login.html">Log in</a></li>
		<li><a href="/account/create.html">Create an account</a></li>
		<li><a href="/account/reminder.html">Password reminder</a></li>
	    </ul>
	</td>
    </tr>

</table>



<!-- END COMPONENT: account -->
<!-- START COMPONENT: icpowered -->

<div style="text-align: center; margin: 10px; margin-top: 0px">
    <a href="/bouncer.html?target=http%3a%2f%2fwww%2eicdevgroup%2eorg%2f" title="Powered by Interchange version 5.7.0"><img src="/decor/images/iclogo_button.gif" width="136" height="44" alt="Powered by Interchange version 5.7.0"></a>
</div>



<!-- START COMPONENT: icpowered -->

	    </td>

	    <td id="bodytext">
<!-- start of page text -->

<!-- start page: wiki/display (Interchange_tag_introduction) -->

<div class="wikitext">
<a name="Interchange_tag_introduction"></a>
<h1>Interchange tag introduction</h1>
<!-- start of toc --><div class="toc">
<table>
<tr valign="top">
<th>Table of contents</th>
</tr>
<tr><td class="h2"><a href="#Introduction">1. Introduction</a></td></tr>
<tr><td class="h2"><a href="#Parameter_syntax">2. Parameter syntax</a></td></tr>
<tr><td class="h3"><a href="#Summary">2.1. Summary</a></td></tr>
<tr><td class="h3"><a href="#Container_tags">2.2. Container tags</a></td></tr>
<tr><td class="h3"><a href="#HTML-style_comments">2.3. HTML-style comments</a></td></tr>
<tr><td class="h2"><a href="#Named_vs_positional_parameters">3. Named vs. positional parameters</a></td></tr>
<tr><td class="h2"><a href="#Interpolating_parameters">4. Interpolating parameters</a></td></tr>
<tr><td class="h2"><a href="#Parameter_quoting">5. Parameter quoting</a></td></tr>
<tr><td class="h3"><a href="#Single_and_double_quotes">5.1. Single and double quotes</a></td></tr>
<tr><td class="h3"><a href="#Vertical_bars_pipes">5.2. Vertical bars (pipes)</a></td></tr>
<tr><td class="h3"><a href="#Back-ticks">5.3. Back-ticks</a></td></tr>
<tr><td class="h3"><a href="#Omitting_quotes_altogether">5.4. Omitting quotes altogether</a></td></tr>
<tr><td class="h2"><a href="#Attribute_arrays_and_hashes">6. Attribute arrays and hashes</a></td></tr>
<tr><td class="h3"><a href="#Introduction_2">6.1. Introduction</a></td></tr>
<tr><td class="h3"><a href="#Perl_calls">6.2. Perl calls</a></td></tr>
<tr><td class="h2"><a href="#Interchange_tag_parsing_order">7. Interchange tag parsing order</a></td></tr>
<tr><td class="h3"><a href="#Standard_parsing">7.1. Standard parsing</a></td></tr>
<tr><td class="h3"><a href="#Nonstandard_parsing_within_the_admin_interface">7.2. Nonstandard parsing within the admin interface</a></td></tr>
<tr><td class="h3"><a href="#Nonstandard_parsing_of_sub-tags">7.3. Nonstandard parsing of sub-tags</a></td></tr>
<tr><td class="h4"><a href="#Array_list_context">7.3.1. Array list context</a></td></tr>
<tr><td class="h4"><a href="#Hash_list_context">7.3.2. Hash list context</a></td></tr>
<tr>
<td class="spacer">&nbsp;</td>
</tr>
</table>
</div><!-- end of toc -->
<a name="Introduction"></a>
<h2>Introduction</h2>
<p>
Interchange tags use a style similar to HTML, but with
&quot;<span class="fixedwidth">&#91;</span>square brackets<span class="fixedwidth">]</span>&quot; replacing
&quot;<span class="fixedwidth">&lt;</span>chevrons<span class="fixedwidth">&gt;</span>&quot;.&nbsp;
Interchange tags are also similar to HTML in syntax,
in that they accept parameters and that there are both standalone and container tags.&nbsp;
The parameters that can be passed are similar too (i.e. <span class="fixedwidth">parameter=&quot;value&quot;</span>).
</p>
<a name="Parameter_syntax"></a>
<h2>Parameter syntax</h2>
<a name="Summary"></a>
<h3>Summary</h3>
<table width="100%" class="border">
<tr><td class="title" colspan="2">Interchange tag parameter syntax examples</td></tr>
<tr valign="top">
<td class="grid"><span class="fixedwidth">&#91;tagname]</span></td>
<td class="grid">Tag called with no parameters.</td>
</tr>
<tr valign="top">
<td class="grid"><span class="fixedwidth">&#91;tagname someval]</span></td>
<td class="grid">Tag called with one positional parameter.</td>
</tr>
<tr valign="top">
<td class="grid"><span class="fixedwidth">&#91;tagname parameter=someval]</span></td>
<td class="grid">Tag called with one named parameter.</td>
</tr>
<tr valign="top">
<td class="grid"><span class="fixedwidth">&#91;tagname&nbsp;parameter=&quot;the&nbsp;value&quot;]</span></td>
<td class="grid">Tag called with a space in the parameter value.</td>
</tr>
<tr valign="top">
<td class="grid"><span class="fixedwidth">&#91;tagname 1 2 3]</span></td>
<td class="grid">Tag called with multiple positional parameters.</td>
</tr>
<tr valign="top">
<td class="grid"><span class="fixedwidth">&#91;tagname foo=1 bar=2 baz=3]</span></td>
<td class="grid">Tag called with multiple named parameters.</td>
</tr>
<tr valign="top">
<td class="grid"><span class="fixedwidth">&#91;tagname foo=`2 + 2`]</span></td>
<td class="grid">Tag called with a calculated parameter (quotes are backticks).</td>
</tr>
<tr valign="top">
<td class="grid"><span class="fixedwidth">&#91;tagname foo=&quot;&#91;value&nbsp;bar]&quot;]</span></td>
<td class="grid">Tag called with another tag used to provide a parameter value.</td>
</tr>
<tr valign="top">
<td class="grid"><span class="fixedwidth">&#91;tagname]&nbsp;...&#91;/tagname]</span></td>
<td class="grid">Container tag called with no parameters.</td>
</tr>
<tr valign="top">
<td class="grid"><span class="fixedwidth">&#91;tagname foo=1]&nbsp;...&#91;/tagname]</span></td>
<td class="grid">Container tag called with a positional parameter.</td>
</tr>
</table>

<p>
When using the <span class="fixedwidth">&#91;tagname]</span> syntax,
there must be no whitespace between the left bracket (&quot;<span class="fixedwidth">&#91;</span>&quot;)
and the <span class="fixedwidth">tag</span> name.
</p>
<p>
Most tags can accept some positional parameters.&nbsp;
This makes parsing faster and, in most cases, is simpler to write.&nbsp;
The following is an example tag call:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Symbol">[</span><span class="def_Syntax">value city</span><span class="def_Symbol">]
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
This tag causes Interchange to look in the user's
<a href="/icdocs/Interchange_Perl_objects.html#Values" title="&quot;Values&quot; heading on the &quot;Interchange Perl objects&quot; page">form values</a>
hash and return the value of the &quot;<span class="fixedwidth">city</span>&quot; form parameter,
which might have been set with the following:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
City: <span class="html_htmlUnknowParam def_ParameterUnknown def_ParameterStrong def_Parameter"><span class="def_PairStart def_Special"><span class="html_htmlTagBr def_OpenTag def_Tag">&lt;</span></span><span class="html_htmlUnknowTag def_Tag"><span class="html_htmlOpenTag def_Keyword">input</span> </span><span class="html_htmlParam def_Parameter">type</span><span class="html_htmlTagEqu def_Symbol">=</span><span class="html_htmlString def_String">&quot;text&quot; </span><span class="html_htmlParam def_Parameter">name</span><span class="html_htmlTagEqu def_Symbol">=</span><span class="html_htmlString def_String">&quot;city&quot; </span><span class="html_htmlParam def_Parameter">value</span><span class="html_htmlTagEqu def_Symbol">=</span><span class="html_htmlString def_String">&quot;&quot;</span><span class="def_PairEnd def_Special"><span class="html_htmlTagBr def_OpenTag def_Tag">&gt;</span></span>
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
Positional parameters cannot be derived from other Interchange tags.&nbsp;
For example, the following will not work:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
&#91;value &#91;value formfield]]
</span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
If the named parameter syntax is used then parameters can contain other tags.&nbsp;
For example, the following will work:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
&#91;value name=&quot;&#91;value formfield]&quot;]
</span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
There are exceptions to the above rule when using list tags,
such as <span class="fixedwidth">[<a href="/icdocs/tags/item-list.html" title="item-list (tags)">item-list</a>]</span>,
<span class="fixedwidth">[<a href="/icdocs/tags/loop.html" title="loop (tags)">loop</a>]</span>,
<span class="fixedwidth">[<a href="/icdocs/tags/query.html" title="query (tags)">query</a>]</span> and others.&nbsp;
These tags, and their exceptions, are explained on their corresponding pages.
</p>
<p>
Tags and parameter names are not case sensitive,
so <span class="fixedwidth">[<a href="/icdocs/tags/value.html" title="value (tags)">VALUE</a> NAME=something]</span> and
<span class="fixedwidth">[<a href="/icdocs/tags/value.html" title="value (tags)">value</a> name=something]</span> will be treated exactly the same.&nbsp;
The Interchange development convention is to type Interchange tags and
parameters in lower case.&nbsp;
This makes pages and tags easier to read.
</p>
<p>
Some tags, such as <span class="fixedwidth">[<a href="/icdocs/tags/control-set.html" title="control-set (tags)">control-set</a>]</span> include a
hyphen (<span class="fixedwidth">-</span>) in their name.&nbsp;
In these cases, an underscore (<span class="fixedwidth">_</span>) may be used if you prefer
(i.e. <span class="fixedwidth">[<a href="/icdocs/tags/control-set.html" title="control-set (tags)">control_set</a>]</span>).&nbsp;
The two forms are interchangeable, except that an ending tag must match
the tag (i.e. don't use <span class="fixedwidth">[<a href="/icdocs/tags/control-set.html" title="control-set (tags)">control-set</a>]...&#91;/control_set]</span>).&nbsp;
Having said that, hyphens look better and are preferred (by me).
</p>

<table class="note">
<tr>
<td class="icon">
<img src="/decor/images/wiki/note_note.gif" width="32" height="32" border="0" alt="Note">
</td>
<td width="100%">
<p class="title">Note</p>
<p style="margin-bottom: 0px">
The exception to the above is when calling tags from Perl.&nbsp;
In this case, you must use underscores.&nbsp;
For instance, <span class="fixedwidth">&#36;Tag-&gt;control_set()</span> is valid,
whereas <span class="fixedwidth">&#36;Tag-&gt;control-set()</span> is invalid.
</p>
</td>
</tr>
</table>

<a name="Container_tags"></a>
<h3>Container tags</h3>
<p>
How the result of the tag is displayed depends upon whether it's
a container or a standalone tag.&nbsp;
A standalone tag has no ending element.&nbsp;
For instance:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Symbol">[</span><span class="def_Syntax">value name</span><span class="def_Symbol">]
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
A container tag has a closing tag
(for example, &quot;<span class="fixedwidth">&#91;tagname] ... &#91;/tagname]</span>&quot;).&nbsp;
The following code will insert the user's name,
providing they have given it to you in a form.&nbsp;
A container tag has both a beginning and an ending element,
as shown in the following example:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Symbol">[</span><span class="def_Syntax">if value name</span><span class="def_Symbol">]</span><br>
&nbsp; &nbsp; <span class="def_Syntax">You have a name</span><span class="def_Symbol">.</span><br>
&nbsp; &nbsp; <span class="def_Syntax">I think your name is </span><span class="def_Symbol">[</span><span class="def_Syntax">value name</span><span class="def_Symbol">]</span><span class="def_Symbol">.</span><br>
<span class="def_Symbol">[</span><span class="def_Symbol">/</span><span class="def_Syntax">if</span><span class="def_Symbol">]
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
A container tag will have its output re-parsed for more Interchange tags
by default.&nbsp;
To inhibit this behaviour, set the <span class="fixedwidth"><a href="/icdocs/Universal_tag_attributes.html#reparse" title="&quot;reparse&quot; heading on the &quot;Universal tag attributes&quot; page">reparse</a></span>
to <span class="fixedwidth">0</span>.&nbsp;
It has been found, however, that the default reparsing is almost always desirable.
</p>
<p>
The output of a standalone tag will not be re-interpreted for Interchange tags
(with some exceptions, such as <span class="fixedwidth">[<a href="/icdocs/tags/include.html" title="include (tags)">include</a> filename]</span>.
</p>
<p>
Most container tags will not have their contents
<a href="/icdocs/Universal_tag_attributes.html#interpolate" title="&quot;interpolate&quot; heading on the &quot;Universal tag attributes&quot; page">interpolated</a>
(parsed for Interchange tags) before being passed the container text.&nbsp;
Exceptions include <span class="fixedwidth">[<a href="/icdocs/tags/calc.html" title="calc (tags)">calc</a>]</span>,
<span class="fixedwidth">[<a href="/icdocs/tags/currency.html" title="currency (tags)">currency</a>]</span> and
<span class="fixedwidth">[<a href="/icdocs/tags/seti.html" title="seti (tags)">seti</a>]</span>.&nbsp;
All container tags accept the <span class="fixedwidth"><a href="/icdocs/Universal_tag_attributes.html#interpolate" title="&quot;interpolate&quot; heading on the &quot;Universal tag attributes&quot; page">interpolate</a>=1</span>
tag parameter which if set <em>true</em>, causes the interpretation to
take place.&nbsp;
If the default is for a particular tag to interpolate its body text
then passing an <span class="fixedwidth">interpolate=0</span> parameter will inhibit this.
</p>
<a name="HTML-style_comments"></a>
<h3>HTML-style comments</h3>
<p>
You are also allowed to use &quot;<span class="fixedwidth">&lt;!--&#91;</span>&quot; and &quot;<span class="fixedwidth">]--&gt;</span>&quot; as
interchangeable alternatives to plain square brackets, so
<span class="fixedwidth">&#91;tagname]</span> and <span class="fixedwidth">&lt;!--&#91;tagname]--&gt;</span> are equivalent.
</p>
<p>
This allows you make your raw tags appear as comments to HTML browsers
or editors.&nbsp;
You might want to do this if your editor has trouble with Interchange tags,
when editing Interchange page templates.
</p>
<p>
To properly HTML-comment contained body text, place your comment-style brackets appropriately, for example:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Symbol">&lt;</span><span class="def_Symbol">!</span><span class="def_Symbol">-</span><span class="def_Symbol">-</span><span class="def_Symbol">[</span><span class="def_Syntax">tagname</span><span class="def_Symbol">] </span><span class="def_Syntax">Contained Body Text </span><span class="def_Symbol">[</span><span class="def_Symbol">/</span><span class="def_Syntax">tagname</span><span class="def_Symbol">]</span><span class="def_Symbol">-</span><span class="def_Symbol">-</span><span class="def_Symbol">&gt;
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
Note that you must include whitespace between the HTML comment delimiters
and the square brackets if you wish to actually comment out tag output
in the browser.&nbsp;
For example, if <span class="fixedwidth">[<a href="/icdocs/tags/value.html" title="value (tags)">value</a> name]</span> expands to
&quot;Kevin&quot;:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
&quot;<span class="html_htmlComment def_Comment def_Syntax"><span class="def_PairStart def_Special">&lt;!--</span>[value name]<span class="def_PairEnd def_Special">--&gt;</span></span>&quot;&nbsp; &nbsp; becomes&nbsp; &quot;Kevin&quot;<br>
&quot;<span class="html_htmlComment def_Comment def_Syntax"><span class="def_PairStart def_Special">&lt;!-- </span>[value name] <span class="def_PairEnd def_Special">--&gt;</span></span>&quot;&nbsp; becomes&nbsp; &quot;<span class="html_htmlComment def_Comment def_Syntax"><span class="def_PairStart def_Special">&lt;!-- </span>Kevin <span class="def_PairEnd def_Special">--&gt;</span></span>&quot;
</span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
<br>

<table class="note">
<tr>
<td class="icon">
<img src="/decor/images/wiki/note_note.gif" width="32" height="32" border="0" alt="Note">
</td>
<td width="100%">
<p class="title">Note</p>
<p style="margin-bottom: 0px">
While &quot;<span class="fixedwidth">&lt;!--&#91;</span>&quot; and &quot;<span class="fixedwidth">&#91;</span>&quot; are completely interchangeable,
the Interchange tag parser does not replace &quot;<span class="fixedwidth">]--&gt;</span>&quot; with &quot;<span class="fixedwidth">]</span>&quot; unless it also sees &quot;<span class="fixedwidth">&lt;!--&#91;</span>&quot; at least once somewhere on the page.&nbsp;
This is a small parsing speed optimisation.
</p>
</td>
</tr>
</table>

<p>
To prevent Interchange tags from being
<a href="/icdocs/Universal_tag_attributes.html#interpolate" title="&quot;interpolate&quot; heading on the &quot;Universal tag attributes&quot; page">interpolated</a> at all,
you can either set the
<span class="fixedwidth"><a href="/icdocs/pragma/no_html_comment_embed.html" title="no html comment embed (pragma)">no_html_comment_embed</a></span> pragma,
or enclose the block in a special <span class="fixedwidth">[<a href="/icdocs/tags/comment.html" title="comment (tags)">comment</a>]</span> container.&nbsp;
For example:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Syntax">Left </span><span class="def_Symbol">[</span><span class="def_Syntax">comment</span><span class="def_Symbol">] </span><span class="def_Syntax">Middle </span><span class="def_Symbol">[</span><span class="def_Syntax">value name</span><span class="def_Symbol">] </span><span class="def_Symbol">[</span><span class="def_Symbol">/</span><span class="def_Syntax">comment</span><span class="def_Symbol">] </span>Right
</span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
becomes:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Syntax">Left&nbsp; </span>Right
</span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
Besides not being <a href="/icdocs/Universal_tag_attributes.html#interpolate" title="&quot;interpolate&quot; heading on the &quot;Universal tag attributes&quot; page">interpolated</a>,
<span class="fixedwidth">[<a href="/icdocs/tags/comment.html" title="comment (tags)">comment</a>]</span> blocks do not appear in the final output text
sent to the client,
so you can be completely safe regarding any unintentional code
or information leakage.
</p>
<p>
If you are modifying the special administrative interface pages
and intend to use this syntax then  see the
<a href="#Interchange_tag_parsing_order" title="&quot;Interchange tag parsing order&quot; heading on this page">Interchange tag parsing order</a> section,
below.
</p>
<a name="Named_vs_positional_parameters"></a>
<h2>Named vs. positional parameters</h2>
<p>
There are two styles of supplying parameters to a tag:&nbsp;
named and positional.
</p>
<p>
In the named style you supply a parameter name=value pair just as most HTML tags use:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Symbol">[</span><span class="def_Syntax">value name</span><span class="def_Symbol">=</span><span class="def_String">&quot;foo&quot;</span><span class="def_Symbol">]
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
The positional-style tag that accomplishes the same thing looks like this:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Symbol">[</span><span class="def_Syntax">value foo</span><span class="def_Symbol">]
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
The parameter name is the first positional parameter for the
<span class="fixedwidth">[<a href="/icdocs/tags/value.html" title="value (tags)">value</a>]</span> tag.&nbsp;
Some people find positional usage simpler for common tags,
and Interchange interprets them somewhat faster.&nbsp;
If you wish to avoid ambiguity you can always use named parameters.
</p>
<p>
In most cases, tag parameters specified in the positional fashion work
the same as named parameters.&nbsp;
However, there are a few situations where you need to use named parameters:
</p>

<ul>
<li>If you want to specify a parameter that comes positionally after a parameter that you want to omit, e.g. omit the first parameter but specify the second.&nbsp;
The parser would have no way of knowing which is which, so you just specify the second by name.&nbsp;
This is rare, though, because the first positional parameters are usually required for a given tag anyway.</li>
<li>When there is some ambiguity as to which parameter is which, usually due to whitespace.</li>
<li>When you need to use the output of a tag as the parameter or attribute for another tag.</li>
</ul>

<br>

<table class="note">
<tr>
<td class="icon">
<img src="/decor/images/wiki/note_note.gif" width="32" height="32" border="0" alt="Note">
</td>
<td width="100%">
<p class="title">Note</p>
<p style="margin-bottom: 0px">
You cannot mix named and positional parameters in the same tag;&nbsp;
Parameters must be either all named, or all positional.&nbsp;
It seems this cannot be stressed enough,
and remains a common beginners' mistake,
especially when foreign code is copied, pasted and combined with
existing code.
</p>
</td>
</tr>
</table>

<a name="Interpolating_parameters"></a>
<h2>Interpolating parameters</h2>
<p>
If you want to use the value of a tag within a parameter of another tag,
you cannot use a positional call.&nbsp;
You should also <a href="#Parameter_quoting" title="&quot;Parameter quoting&quot; heading on this page">quote</a> the parameter containing the
tag you want to have expanded.&nbsp;
For example, this will not work:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Symbol">[</span><span class="def_Syntax">area scan se</span><span class="def_Symbol">=</span><span class="def_Symbol">[</span><span class="def_Syntax">scratch somevar</span><span class="def_Symbol">]</span><span class="def_Symbol">]
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
To get the <span class="fixedwidth">[<a href="/icdocs/tags/scratch.html" title="scratch (tags)">scratch</a> somevar]</span> to be
<a href="/icdocs/Universal_tag_attributes.html#interpolate" title="&quot;interpolate&quot; heading on the &quot;Universal tag attributes&quot; page">interpolated</a>,
and its result passed to the <span class="fixedwidth">[<a href="/icdocs/tags/area.html" title="area (tags)">area</a>]</span> tag,
the parameter must be named and quoted,
as follows:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Symbol">[</span><span class="def_Syntax">area href</span><span class="def_Symbol">=</span><span class="def_Syntax">scan arg</span><span class="def_Symbol">=</span><span class="def_String">&quot;se=[scratch somevar]&quot;</span><span class="def_Symbol">]
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
The &quot;<span class="fixedwidth">href</span>&quot; parameter's value (<span class="fixedwidth">scan</span>) did not
need to be quoted.&nbsp;
The &quot;<span class="fixedwidth">arg</span>&quot; parameter only needed to be quoted because its
value contained whitespace.
</p>
<p>
Without the quotes,
the whitespace would be taken to be a delimiter between individual
parameters,
which is the main reason why the uncorrected example would have failed
to produce the desired result.
</p>

<table class="note">
<tr>
<td class="icon">
<img src="/decor/images/wiki/note_note.gif" width="32" height="32" border="0" alt="Note">
</td>
<td width="100%">
<p class="title">Note</p>
<p style="margin-bottom: 0px">
Only named parameters can be quoted to enclose whitespace in this way.&nbsp;
If one parameter is named then all parameters must be named.
</p>
</td>
</tr>
</table>

<a name="Parameter_quoting"></a>
<h2>Parameter quoting</h2>
<a name="Single_and_double_quotes"></a>
<h3>Single and double quotes</h3>
<p>
Single (<span class="fixedwidth">'</span>) and double quotes (<span class="fixedwidth">&quot;</span>) both have
the same effect, and can be mixed to avoid confusion in the parser.&nbsp;
For example:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Symbol">[</span><span class="def_Syntax">value name</span><span class="def_Symbol">=</span><span class="def_String">&quot;b_city&quot; </span><span class="def_Syntax">set</span><span class="def_Symbol">=</span><span class="def_String">&quot;[value name='city' filter='strip']&quot;</span><span class="def_Symbol">]
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<a name="Vertical_bars_pipes"></a>
<h3>Vertical bars (pipes)</h3>
<p>
Vertical bars (<span class="fixedwidth">|</span>), also known as pipes,
can also be used as quoting characters,
but have the unique behaviour of stripping leading and trailing
whitespace.&nbsp;
For example:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Symbol">[</span><span class="def_Syntax">loop list</span><span class="def_Symbol">=</span><span class="def_String">&quot;A1 A2 A3 B1 B2 B3&quot;</span><span class="def_Symbol">]</span><br>
&nbsp; &nbsp; <span class="def_Symbol">[</span><span class="def_Syntax">loop</span><span class="def_Symbol">-</span><span class="def_Syntax">increment</span><span class="def_Symbol">]</span><span class="def_Symbol">[</span><span class="def_Syntax">loop</span><span class="def_Symbol">-</span><span class="def_Syntax">code</span><span class="def_Symbol">]</span><br>
<span class="def_Symbol">[</span><span class="def_Symbol">/</span><span class="def_Syntax">loop</span><span class="def_Symbol">]
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
could be better expressed as:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Symbol">[</span><span class="def_Syntax">loop list</span><span class="def_Symbol">=</span><span class="def_Symbol">|</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; A1&nbsp; &nbsp; A2&nbsp; &nbsp; A3<br>
&nbsp; &nbsp; &nbsp; &nbsp; B1&nbsp; &nbsp; B2&nbsp; &nbsp; B3<br>
<span class="def_Symbol">|</span><span class="def_Symbol">]</span><br>
&nbsp; &nbsp; <span class="def_Symbol">[</span><span class="def_Syntax">loop</span><span class="def_Symbol">-</span><span class="def_Syntax">increment</span><span class="def_Symbol">]</span><span class="def_Symbol">[</span><span class="def_Syntax">loop</span><span class="def_Symbol">-</span><span class="def_Syntax">code</span><span class="def_Symbol">]</span><br>
<span class="def_Symbol">[</span><span class="def_Symbol">/</span><span class="def_Syntax">loop</span><span class="def_Symbol">]
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<a name="Back-ticks"></a>
<h3>Back-ticks</h3>
<p>
Back-ticks (<span class="fixedwidth">`</span>) should be used with extreme caution since they
cause the parameter contents to be evaluated as Perl code,
using the equivalent of a call to the <span class="fixedwidth">[<a href="/icdocs/tags/calc.html" title="calc (tags)">calc</a>]</span> tag.
</p>
<p>
For example:&nbsp;
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Symbol">[</span><span class="def_Syntax">value name</span><span class="def_Symbol">=</span><span class="def_Syntax">current</span><span class="def_Symbol">_</span><span class="def_Syntax">count set</span><span class="def_Symbol">=</span>`$<span class="def_Syntax">Scratch</span><span class="def_Symbol">-</span><span class="def_Symbol">&gt;</span><span class="def_Symbol">{</span><span class="def_Syntax">counter</span><span class="def_Symbol">}</span><span class="def_Symbol">+</span><span class="def_Symbol">+</span>`<span class="def_Symbol">]
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
is the same as:&nbsp;
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Symbol">[</span><span class="def_Syntax">value name</span><span class="def_Symbol">=</span><span class="def_Syntax">current</span><span class="def_Symbol">_</span><span class="def_Syntax">count set</span><span class="def_Symbol">=</span><span class="def_String">&quot;[calc]$Scratch-&gt;{counter}++[/calc]&quot;</span><span class="def_Symbol">]
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<a name="Omitting_quotes_altogether"></a>
<h3>Omitting quotes altogether</h3>
<p>
Exactly when can you omit the quotes around parameter values?
</p>
<p>
The first answer is trivial:&nbsp;
Never omit the quotes and you'll never run into trouble.
</p>
<p>
The other answer says &quot;omitting quotes earns you a bonus for style
and achieves small parser speed improvement.&quot; However, if the value contains whitespace then you <em>must</em> quote it.&nbsp;
To quote values, you can use <a href="#Single_and_double_quotes" title="&quot;Single and double quotes&quot; heading on this page">double quotes</a>
(<span class="fixedwidth">&quot;</span>), <a href="#Single_and_double_quotes" title="&quot;Single and double quotes&quot; heading on this page">single quotes</a> (<span class="fixedwidth">'</span>)
or <a href="#Vertical_bars_pipes" title="&quot;Vertical bars pipes&quot; heading on this page">vertical bars</a> (<span class="fixedwidth">|</span>).&nbsp;
Vertical bars have the additional functionality of removing
leading and trailing whitespace,
but generally you can use all types in combination to do three levels
of quoting with Interchange tags.&nbsp;
For more deeply nested constructs, use direct Perl code.
</p>
<p>
The above answers to the quoting problem, however,
are still not all there is to know about quoting.&nbsp;
In general, <a href="/icdocs/category:Looping_tags_and_sub-tags.html" title="Category - looping tags and sub-tags">loop sub-tags</a>
do not need quotes (even though they sometimes contain whitespace)
because they are parsed in a separate pass,
before the general parser gets to work.
</p>
<p>
Here's an example that would work properly with quotes omitted.&nbsp;
Pay attention to <span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-field.html" title="PREFIX-field (tags)">item-field</a> uri]</span> which,
at first sight, looks like it is invalid because it is not quoted and
contains a space.
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Symbol">[</span><span class="def_Syntax">item</span><span class="def_Symbol">-</span><span class="def_Syntax">list</span><span class="def_Symbol">]</span><br>
&nbsp; &nbsp; <span class="def_Symbol">&lt;</span><span class="def_Syntax">a href</span><span class="def_Symbol">=</span><span class="def_String">&quot;[area [item-field uri]]&quot;</span><span class="def_Symbol">&gt;</span><span class="def_Syntax">detailed </span>info<span class="def_Symbol">&lt;</span><span class="def_Symbol">/</span>a<span class="def_Symbol">&gt; </span><span class="def_Syntax">on </span><span class="def_Symbol">[</span><span class="def_Syntax">item</span><span class="def_Symbol">-</span><span class="def_Syntax">description</span><span class="def_Symbol">]</span><br>
<span class="def_Symbol">[</span><span class="def_Symbol">/</span><span class="def_Syntax">item</span><span class="def_Symbol">-</span><span class="def_Syntax">list</span><span class="def_Symbol">]
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
<span class="fixedwidth">[<a href="/icdocs/tags/area.html" title="area (tags)">area</a> [<a href="/icdocs/tags/value.html" title="value (tags)">value</a> mypage]]</span> would not work
because the <span class="fixedwidth">[<a href="/icdocs/tags/value.html" title="value (tags)">value</a>]</span> tag shown is not a
<a href="/icdocs/category:Looping_tags_and_sub-tags.html" title="Category - looping tags and sub-tags">loop sub-tag</a>.
</p>
<p>
You might wonder why unquoted tags are even allowed.&nbsp;
The answer is performance;&nbsp;
If you have large lists of tags you can achieve significant speed-ups by
using positional parameters.&nbsp;
Parsing and disassembling named parameters takes more CPU cycles to process.
</p>
<a name="Attribute_arrays_and_hashes"></a>
<h2>Attribute arrays and hashes</h2>
<a name="Introduction_2"></a>
<h3>Introduction</h3>
<p>
Some tags allow you to pass an array or hash as the value of a parameter.&nbsp;
For an ordinary tag, the syntax is as follows:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="comment">Array parameter</span><br><br>
<span class="def_Symbol">[</span><span class="def_Syntax">example</span><span class="def_Symbol">-</span><span class="def_Syntax">tag attribute</span><span class="def_Number">.0</span><span class="def_Symbol">=</span><span class="def_Syntax">value</span><span class="def_Symbol">]</span><br>
<br>
<span class="comment">Hash parameter</span><br><br>
<span class="def_Symbol">[</span><span class="def_Syntax">example</span><span class="def_Symbol">-</span><span class="def_Syntax">tag attribute</span><span class="def_Number">.</span><span class="def_Syntax">hashkey</span><span class="def_Symbol">=</span><span class="def_Syntax">value</span><span class="def_Symbol">]
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<table class="note">
<tr>
<td class="icon">
<img src="/decor/images/wiki/note_warning.gif" width="32" height="32" border="0" alt="Warning">
</td>
<td width="100%">
<p class="title">Warning</p>
<p style="margin-bottom: 0px">
You cannot use both an array and a hash with the same parameter name.&nbsp;
For instance,
If you use &quot;<span class="fixedwidth">attribute.<em>n</em></span>&quot; then you cannot use
the same &quot;<span class="fixedwidth">attribute</span>&quot; name as
&quot;<span class="fixedwidth">attribute.<em>key</em></span>&quot;, and vice versa.
</p>
</td>
</tr>
</table>

<p>
Here is an example of an attribute array,
where &quot;<span class="fixedwidth">0</span>&quot; and &quot;<span class="fixedwidth">1</span>&quot; are array index values:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="def_Symbol">[</span><span class="def_Syntax">example</span><span class="def_Symbol">-</span>tag<br>
&nbsp; &nbsp; <span class="def_Syntax">search</span><span class="def_Number">.0</span><span class="def_Symbol">=</span><span class="def_Symbol">|</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="def_Syntax">se</span><span class="def_Symbol">=</span>hammer<br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="def_Syntax">fi</span><span class="def_Symbol">=</span>products<br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="def_Syntax">sf</span><span class="def_Symbol">=</span>description<br>
&nbsp; &nbsp; <span class="def_Symbol">|</span><br>
&nbsp; &nbsp; <span class="def_Syntax">search</span><span class="def_Number">.1</span><span class="def_Symbol">=</span><span class="def_Symbol">|</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="def_Syntax">se</span><span class="def_Symbol">=</span>plutonium<br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="def_Syntax">fi</span><span class="def_Symbol">=</span>products<br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="def_Syntax">sf</span><span class="def_Symbol">=</span>comment<br>
&nbsp; &nbsp; <span class="def_Symbol">|</span><br>
<span class="def_Symbol">]
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
The <span class="fixedwidth">[<a href="/icdocs/tags/area.html" title="area (tags)">area</a>]</span> tag, for example, treats a search specification
array as a joined search, automatically adding the other relevant search
fields, including the &quot;<span class="fixedwidth">co=yes</span> to indicate a combined search.&nbsp;
<a href="/icdocs/Interchange_search_engine.html#Coordinated_and_joined_searches" title="&quot;Coordinated and joined searches&quot; heading on the &quot;Interchange search engine&quot; page">Coordinated and joined searches</a>
are described in the <a href="/icdocs/Interchange_search_engine.html" title="Interchange search engine">Interchange search engine</a> documentation.
</p>

<table class="note">
<tr>
<td class="icon">
<img src="/decor/images/wiki/note_note.gif" width="32" height="32" border="0" alt="Note">
</td>
<td width="100%">
<p class="title">Note</p>
<p style="margin-bottom: 0px">
It is up to each individual tag to handle array or hash parameter values properly.&nbsp;
See the documentation for the specific tag before passing it an attribute
array or hash value.&nbsp;
If the tag doesn't expect to receive a parameter array or hash value then it
might not do what you expect if you pass it such a value.
</p>
</td>
</tr>
</table>


<table class="note">
<tr>
<td class="icon">
<img src="/decor/images/wiki/note_warning.gif" width="32" height="32" border="0" alt="Warning">
</td>
<td width="100%">
<p class="title">Warning</p>
<p style="margin-bottom: 0px">
Interchange 5.4.0 and later versions have access to a <a href="/icdocs/tags/pragma.html" title="pragma (tags)">pragma</a>
called <a href="/icdocs/pragma/interpolate_itl_references.html" title="interpolate itl references (pragma)">interpolate_itl_references</a>,
which instructs Interchange to look for ICML tags within reference-based
parameters,
and <a href="/icdocs/Universal_tag_attributes.html#Interpolate" title="&quot;Interpolate&quot; heading on the &quot;Universal tag attributes&quot; page">interpolate</a> any it finds.&nbsp;
If this <a href="/icdocs/tags/pragma.html" title="pragma (tags)">pragma</a> is not used,
or is not present in the Interchange version you're using,
then the parameter value will be passed to the tag verbatim.
</p>
</td>
</tr>
</table>

<a name="Perl_calls"></a>
<h3>Perl calls</h3>
<p>
Before passing attributes to a tag, the Interchange tag parser would
convert the above example to an anonymous array reference.&nbsp;
It would use the resulting arrayref as the value for the &quot;search&quot; attribute in this example.
</p>
<p>
If you were passing the above example directly to a tag routine
within a <span class="fixedwidth">[<a href="/icdocs/tags/perl.html" title="perl (tags)">perl</a>]</span> block, or a <a href="/icdocs/config/UserTag.html" title="UserTag (config)">UserTag</a>,
you must actually pass an anonymous array as the value of the attribute,
as follows:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="perl_Word def_Keyword">my </span><span class="perl_Var def_Var">@array </span><span class="perl_Symb def_Symbol">= </span><span class="def_Symbol"><span class="def_PairStart def_Special">(</span></span><br>
&nbsp; &nbsp; <span class="perl_String def_String"><span class="def_PairStart def_Special">&quot;</span>se=hammer/fi=products/sf=description<span class="def_PairEnd def_Special">&quot;</span></span><span class="perl_Symb def_Symbol">,</span><br>
&nbsp; &nbsp; <span class="perl_String def_String"><span class="def_PairStart def_Special">&quot;</span>se=plutonium/fi=products/sf=description<span class="def_PairEnd def_Special">&quot;</span></span><span class="perl_Symb def_Symbol">,</span><br>
<span class="def_Symbol"><span class="def_PairEnd def_Special">)</span></span><span class="perl_MainSymb def_SymbolStrong def_Symbol">;</span><br>
<span class="perl_Var def_Var">$Tag</span><span class="perl_Symb def_Symbol">-&gt;</span>example_tag<span class="def_Symbol"><span class="def_PairStart def_Special">(</span></span><span class="def_SymbolStrong def_Symbol"><span class="def_PairStart def_Special">{</span></span><br>
&nbsp; &nbsp; search <span class="perl_Symb def_Symbol">=</span><span class="perl_Symb def_Symbol">&gt; </span><span class="perl_Symb def_Symbol">\</span><span class="perl_Var def_Var">@array</span><span class="perl_Symb def_Symbol">,</span><br>
<span class="def_SymbolStrong def_Symbol"><span class="def_PairEnd def_Special">}</span></span><span class="def_Symbol"><span class="def_PairEnd def_Special">)</span></span><span class="perl_MainSymb def_SymbolStrong def_Symbol">;
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<p>
Similarly to use a hash reference for the 'entry' attribute:
</p>
<!-- start of code block -->
<div class="code">
<table>
<tr>
<td class="code">
<span class="fixedwidth">
<span class="perl_Word def_Keyword">my </span><span class="perl_Var def_Var">%hash </span><span class="perl_Symb def_Symbol">= </span><span class="def_Symbol"><span class="def_PairStart def_Special">(</span></span><br>
&nbsp; &nbsp; name <span class="perl_Symb def_Symbol">=</span><span class="perl_Symb def_Symbol">&gt; </span><span class="perl_String def_String"><span class="def_PairStart def_Special">&quot;</span>required<span class="def_PairEnd def_Special">&quot;</span></span><span class="perl_Symb def_Symbol">,</span><br>
&nbsp; &nbsp; date <span class="perl_Symb def_Symbol">=</span><span class="perl_Symb def_Symbol">&gt; </span><span class="perl_String def_String"><span class="def_PairStart def_Special">'</span>default=&quot;<span class="perl_Var2 def_VarStrong def_Var">%d </span>%B %Y&quot;<span class="def_PairEnd def_Special">'</span></span><span class="perl_Symb def_Symbol">,</span><br>
<span class="def_Symbol"><span class="def_PairEnd def_Special">)</span></span><span class="perl_MainSymb def_SymbolStrong def_Symbol">;</span><br>
<span class="perl_Var def_Var">$Tag</span><span class="perl_Symb def_Symbol">-&gt;</span>example_tag<span class="def_Symbol"><span class="def_PairStart def_Special">(</span></span><span class="def_SymbolStrong def_Symbol"><span class="def_PairStart def_Special">{</span></span><br>
&nbsp; &nbsp; entry <span class="perl_Symb def_Symbol">=</span><span class="perl_Symb def_Symbol">&gt; </span><span class="perl_Symb def_Symbol">\</span><span class="perl_Var def_Var">%hash</span><span class="perl_Symb def_Symbol">,</span><br>
<span class="def_SymbolStrong def_Symbol"><span class="def_PairEnd def_Special">}</span></span><span class="def_Symbol"><span class="def_PairEnd def_Special">)</span></span><span class="perl_MainSymb def_SymbolStrong def_Symbol">;
</span></span>
</td>
</tr>
</table>
</div>
<!-- end of code block -->
<a name="Interchange_tag_parsing_order"></a>
<h2>Interchange tag parsing order</h2>
<a name="Standard_parsing"></a>
<h3>Standard parsing</h3>
<p>
Under normal circumstances,
the template page containing tags and HTML is parsed in the following order:
</p>

<ol>
<li>Any content in <span class="fixedwidth">MV_AUTOLOAD</span> is prepended to the template page.</li>
<li>Any <span class="fixedwidth">[<a href="/icdocs/tags/pragma.html" title="pragma (tags)">pragma</a>]</span> tags anywhere in the text are processed, and the specified pragmas are set.
<ul>
<li>Since <span class="fixedwidth">&#91;pragma]</span> tags are preprocessed before any other content, <a href="/icdocs/Universal_tag_attributes.html#reparse" title="&quot;reparse&quot; heading on the &quot;Universal tag attributes&quot; page">Reparse</a> will not catch them, nor will they work if included in variables.&nbsp;
Also, the specified pragma will apply to the entire template (not just the section after the tag).</li>
<li>If you want to apply a pragma with a variable or only to part of a document, you must use <span class="fixedwidth">[<a href="/icdocs/tags/tag.html" class="nopage" title="tag (tags)">tag</a> pragma=&quot;...&quot;]</span> instead.</li>
</ul>
</li>
<li>Variables (macros) are processed in the following order:
<ol>
<li><span class="fixedwidth">@@VARNAME@@</span> global variables.</li>
<li><span class="fixedwidth">@_VARNAME_@</span> local or global variables.</li>
<li><span class="fixedwidth">__VARNAME__</span> local variables.</li>
</ol>
</li>
<li>Interchange comments are stripped.</li>
<li>False-endtag macros.such as <span class="fixedwidth">&#91;/page]</span> and <span class="fixedwidth">&#91;/order]</span>) are replaced with &quot;<span class="fixedwidth">&lt;/a&gt;</span>&quot;.&nbsp;
<strong>(DEPRECIATED)</strong></li>
<li>&quot;<span class="fixedwidth">&lt;!--&#91;tagname]--&gt;</span>&quot; escapes are converted to <span class="fixedwidth">&#91;tagname]</span>.
<ul>
<li>This can be a convenience for your HTML editor if it has trouble with tags using the standard <span class="fixedwidth">&#91;tagname]</span> syntax.</li>
<li>However, if you want to HTML-comment out an Interchange tag in content that will be fed raw to a browser, you must include whitespace between the HTML comment delimiters and the tag, like this, &quot;<span class="fixedwidth">&lt;!--  &#91;tagname]  --&gt;</span>&quot;.</li>
<li>This behaviour will be switched off if the <span class="fixedwidth"><a href="/icdocs/pragma/no_html_comment_embed.html" title="no html comment embed (pragma)">no_html_comment_embed</a></span> pragma is active.</li>
</ul>
</li>
<li>The main tag parser is called.
<ul>
<li>Some tags parse recursively (depending upon <a href="/icdocs/Universal_tag_attributes.html#reparse" title="&quot;reparse&quot; heading on the &quot;Universal tag attributes&quot; page">reparse</a> and <a href="/icdocs/Universal_tag_attributes.html#interpolate" title="&quot;interpolate&quot; heading on the &quot;Universal tag attributes&quot; page">interpolate</a> settings, of course).</li>
<li>Some tags (such as <span class="fixedwidth">[<a href="/icdocs/tags/loop.html" title="loop (tags)">loop</a>]</span>) process <a href="/icdocs/category:Looping_tags_and_sub-tags.html" title="Category - looping tags and sub-tags">sub-tags</a> in their contained body text.&nbsp;
Hence, the <a href="/icdocs/category:Looping_tags_and_sub-tags.html" title="Category - looping tags and sub-tags">sub-tags</a> are not handled recursively.</li>
<li>Some tags are interpreted in the <span class="fixedwidth">Vend::Parse::start()</span> subroutine.&nbsp;
You cannot call them with the <span class="fixedwidth">&#36;Tag-&gt;tagname()</span> syntax.&nbsp;
They are:
<ul>
<li>The <span class="fixedwidth">[<a href="/icdocs/tags/goto.html" title="goto (tags)">goto</a>]</span> tag.&nbsp;
Note that the <span class="fixedwidth">[<a href="/icdocs/tags/goto.html" title="goto (tags)">goto</a>]</span> tag handles the <span class="fixedwidth">[<a href="/icdocs/tags/label.html" title="label (tags)">label</a>]</span> tag.</li>
<li>The <span class="fixedwidth">[<a href="/icdocs/tags/bounce.html" title="bounce (tags)">bounce</a>]</span> tag.</li>
</ul>
</li>
</ul>
</li>
<li>Image paths substitution on the HTML output occurs.</li>
</ol>

<a name="Nonstandard_parsing_within_the_admin_interface"></a>
<h3>Nonstandard parsing within the admin interface</h3>
<p>
Parsing of content via the specialised <span class="fixedwidth">&#91;regenerate]</span> usertag,
included with the administrative interface,
does not obey the above order.&nbsp;
The <span class="fixedwidth">MV_AUTOLOAD</span> and &quot;<span class="fixedwidth">&lt;!--&#91;tagname]--&gt;</span>&quot; escapes are skipped.&nbsp;
There are some other more subtle differences as well.&nbsp;
In the very unlikely event that you need to check this in the source code,
compare the <span class="fixedwidth">interpolate_html()</span> and <span class="fixedwidth">cache_html()</span> subroutines
in <span class="fixedwidth">Interpolate.pm</span>.
</p>
<a name="Nonstandard_parsing_of_sub-tags"></a>
<h3>Nonstandard parsing of sub-tags</h3>
<p>
Sub-tags are parsed within the containing array-list or hash-list context created
by the containing tag.&nbsp;
See the <a href="/icdocs/category:Looping_tags_and_sub-tags.html" title="Category - looping tags and sub-tags">Looping tags and sub-tags</a> category.
</p>

<ul>
<li>All sub-tags, at an earlier precedence level, are treated before any in the next level.</li>
<li>Within the same level, tags are processed in the order they appear on the page.</li>
<li>Any standard tags are processed during &quot;<span class="fixedwidth"><a href="/icdocs/Universal_tag_attributes.html#interpolate" title="&quot;interpolate&quot; heading on the &quot;Universal tag attributes&quot; page">interpolate</a></span>&quot; (before) or &quot;<span class="fixedwidth"><a href="/icdocs/Universal_tag_attributes.html#reparse" title="&quot;reparse&quot; heading on the &quot;Universal tag attributes&quot; page">reparse</a></span>&quot; (after) phases of processing the containing tag.</li>
</ul>

<br>

<table class="note">
<tr>
<td class="icon">
<img src="/decor/images/wiki/note_note.gif" width="32" height="32" border="0" alt="Note">
</td>
<td width="100%">
<p class="title">Note</p>
<p style="margin-bottom: 0px">
Processing within a HASH or ARRAY list is actually done as a series of
global regular expression substitutions on the page.&nbsp;
Each substitution replaces one tag with the output of the subroutine(s)
associated with it.
</p>
</td>
</tr>
</table>

<a name="Array_list_context"></a>
<h4>Array list context</h4>
<p>
In array-list context,
sub-tags are processed in the following order:
</p>

<ol>
<li>Replace <span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-include.html" title="PREFIX-include (tags)">PREFIX-include</a>]</span> sub-tag(s) with the content of the named file(s)</li>
<li>Check for <span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-line.html" title="PREFIX-line (tags)">PREFIX-line</a>]</span> and prepare for it if present (does not process <span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-line.html" title="PREFIX-line (tags)">PREFIX-line</a>]</span> at this time).</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-sub.html" class="nopage" title="PREFIX-sub (tags)">PREFIX-sub</a>]</span> definitions processed.</li>
<li><span class="fixedwidth">&#91;if-PREFIX-*]</span> sub-tag nesting resolved.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-alternate.html" title="PREFIX-alternate (tags)">PREFIX-alternate</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/if-PREFIX-param.html" title="if-PREFIX-param (tags)">if-PREFIX-param</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/if-PREFIX-pos.html" title="if-PREFIX-pos (tags)">if-PREFIX-pos</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-pos.html" title="PREFIX-pos (tags)">PREFIX-pos</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/if-PREFIX-field.html" title="if-PREFIX-field (tags)">if-PREFIX-field</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-line.html" title="PREFIX-line (tags)">PREFIX-line</a>]</span> processed (preparations performed earlier).</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-increment.html" title="PREFIX-increment (tags)">PREFIX-increment</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-accessories.html" title="PREFIX-accessories (tags)">PREFIX-accessories</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-options.html" class="nopage" title="PREFIX-options (tags)">PREFIX-options</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-code.html" title="PREFIX-code (tags)">PREFIX-code</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-description.html" title="PREFIX-description (tags)">PREFIX-description</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-field.html" title="PREFIX-field (tags)">PREFIX-field</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-price.html" title="PREFIX-price (tags)">PREFIX-price</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-change.html" title="PREFIX-change (tags)">PREFIX-change</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-calc.html" title="PREFIX-calc (tags)">PREFIX-calc</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-exec.html" class="nopage" title="PREFIX-exec (tags)">PREFIX-exec</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-filter.html" title="PREFIX-filter (tags)">PREFIX-filter</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-last.html" title="PREFIX-last (tags)">PREFIX-last</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-next.html" title="PREFIX-next (tags)">PREFIX-next</a>]</span> processed.</li>
<li>User's previous HTML widget &quot;selected&quot; settings restored.</li>
<li>Reparse standard tags in output of above (if the container tag has <a href="/icdocs/Universal_tag_attributes.html#Reparse" title="&quot;Reparse&quot; heading on the &quot;Universal tag attributes&quot; page">reparse</a> enabled).</li>
</ol>

<a name="Hash_list_context"></a>
<h4>Hash list context</h4>
<p>
In hash-list context,
sub-tags are processed in the following order:
</p>
<p>

<ol>
<li>Replace <span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-include.html" title="PREFIX-include (tags)">PREFIX-include</a>]</span> sub-tag(s) with the content of the named file(s)</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-sub.html" class="nopage" title="PREFIX-sub (tags)">PREFIX-sub</a>]</span> definitions processed.</li>
<li>&#91;if-PREFIX-*] sub-tag nesting resolved.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-alternate.html" title="PREFIX-alternate (tags)">PREFIX-alternate</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-line.html" title="PREFIX-line (tags)">PREFIX-line</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/if-PREFIX-param.html" title="if-PREFIX-param (tags)">if-PREFIX-param</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/if-PREFIX-field.html" title="if-PREFIX-field (tags)">if-PREFIX-field</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/if-PREFIX-modifier.html" title="if-PREFIX-modifier (tags)">if-PREFIX-modifier</a>]</span> processed (<span class="fixedwidth">[<a href="/icdocs/tags/if-PREFIX-param.html" title="if-PREFIX-param (tags)">if-PREFIX-param</a>]</span> is functionally identical except for the parse order).</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-increment.html" title="PREFIX-increment (tags)">PREFIX-increment</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-accessories.html" title="PREFIX-accessories (tags)">PREFIX-accessories</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-options.html" class="nopage" title="PREFIX-options (tags)">PREFIX-options</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-code.html" title="PREFIX-code (tags)">PREFIX-code</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-quantity.html" title="PREFIX-quantity (tags)">PREFIX-quantity</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-modifier.html" title="PREFIX-modifier (tags)">PREFIX-modifier</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-param.html" title="PREFIX-param (tags)">PREFIX-param</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-quantity-name.html" title="PREFIX-quantity-name (tags)">PREFIX-quantity-name</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-modifier-name.html" title="PREFIX-modifier-name (tags)">PREFIX-modifier-name</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-subtotal.html" title="PREFIX-subtotal (tags)">PREFIX-subtotal</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-discount-subtotal.html" title="PREFIX-discount-subtotal (tags)">PREFIX-discount-subtotal</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-code.html" title="PREFIX-code (tags)">PREFIX-code</a>]</span> processed again (operating on new instances of <span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-code.html" title="PREFIX-code (tags)">PREFIX-code</a>]</span> in the output of the above).</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-field.html" title="PREFIX-field (tags)">PREFIX-field</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-description.html" title="PREFIX-description (tags)">PREFIX-description</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-price.html" title="PREFIX-price (tags)">PREFIX-price</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-discount-price.html" title="PREFIX-discount-price (tags)">PREFIX-discount-price</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-difference.html" class="nopage" title="PREFIX-difference (tags)">PREFIX-difference</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-discount.html" title="PREFIX-discount (tags)">PREFIX-discount</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-change.html" title="PREFIX-change (tags)">PREFIX-change</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-calc.html" title="PREFIX-calc (tags)">PREFIX-calc</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-exec.html" class="nopage" title="PREFIX-exec (tags)">PREFIX-exec</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-filter.html" title="PREFIX-filter (tags)">PREFIX-filter</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-last.html" title="PREFIX-last (tags)">PREFIX-last</a>]</span> processed.</li>
<li><span class="fixedwidth">[<a href="/icdocs/tags/PREFIX-next.html" title="PREFIX-next (tags)">PREFIX-next</a>]</span> processed.</li>
<li>User's previous HTML widget &quot;selected&quot; settings restored.</li>
<li>Reparse standard tags in output of above (if the container tag has <a href="/icdocs/Universal_tag_attributes.html#Reparse" title="&quot;Reparse&quot; heading on the &quot;Universal tag attributes&quot; page">reparse</a> enabled).</li>
</ol>
</div>

<!-- start of modification notice -->
<div class="wikitext">
    <table class="pageinfo" cellpadding="0" cellspacing="0">


	<tr>
	    <td>
		
		Last modified by: <a href="/account/profile.html?user=kevin">Kevin Walsh</a><br>
		Modification date: Monday 17 September 2007 at 1:39 AM (EDT)
	    </td>
	</tr>
    </table>
</div>
<!-- end of modification notice -->



<!-- end page: wiki/display (Interchange_tag_introduction) -->



<!-- end of page text -->
	    </td>

	</tr>
    </table>
<!-- START VAR: FOOTER -->

<table id="rtfmfooter" width="100%" cellpadding="0" cellspacing="0">
    <tr>
	<td>
	    <a href="/index.html">Home</a>
	    &nbsp;|&nbsp;
	    <a href="/legal/legal.html">Legal nonsense</a>
	    &nbsp;|&nbsp;
	    <a href="/legal/privacy.html">Privacy policy</a>
	    &nbsp;|&nbsp;
	    <a href="/donations.html">Donations</a>
	    &nbsp;|&nbsp;
	    <a href="/contact.html">Contact us</a>
	</td>

    </tr>
</table>

<!-- END VAR: FOOTER -->

<!-- START VAR: COPYRIGHT -->


    <div class="copyright">
	Copyright &copy; 2001-2020
	<a href="http://cursor.biz/index.html">Cursor Software Limited</a>.&nbsp;
	All Rights Reserved.
    </div>

<!-- END VAR: COPYRIGHT -->

</body>
</html>
